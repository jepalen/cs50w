{% extends "flights/layout.html" %}

{% block body %}
<h1>Flight {{ flight.id }}</h1>
<p>Departure: {{ flight.origin }}</p>
<p>Destination: {{ flight.destination }}</p>
<p>Duration: {{ flight.duration }}</p>

<h2>Passengers</h2>
{% if passengers %}
<ul>
    {% for passenger in passengers %}
    <li>{{ passenger.first }} {{ passenger.last }}</li>
    {% endfor %}
</ul>
{% else %}
<p>No passengers.</p>
{% endif %}

<a href="{% url 'flights:index' %}">Back to flights</a>

<h2>Add Passengers</h2>
<form action="{% url 'flights:book' flight.id %}" method="post">
    {% csrf_token %}
    <select name="passenger">
        {% for passenger in non_passengers %}
        <option value="{{ passenger.id }}">{{ passenger.first }} {{ passenger.last }}</option>
        {% endfor %}
    </select>
    <button type="submit">Book</button>
</form>
{% endblock %}